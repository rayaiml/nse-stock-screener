<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>NSE Stock Screener</title>
<style>
body{margin:0;font-family:system-ui;background:#0f172a;color:#e5e7eb}
header{padding:14px;text-align:center;font-size:18px;font-weight:600}
.buttons{display:flex;gap:10px;padding:10px;justify-content:center;flex-wrap:wrap}
button{padding:12px 18px;border:none;border-radius:8px;background:#22c55e;font-weight:600}
.card{margin:10px;background:#020617;border-radius:12px;padding:10px;overflow-x:auto}
table{width:100%;border-collapse:collapse;min-width:900px}
th,td{padding:10px;border-bottom:1px solid #1e293b;text-align:center}
th{position:sticky;top:0;background:#020617}
</style>
</head>
<body>
<header>ðŸ“Š One-Click NSE Stock Screener</header>
<div class="buttons">
  <button onclick="scan()">Run Scan</button>
  <button onclick="daily()">Daily Scan</button>
</div>
<div id="out" class="card">Ready</div>
<script>
const API = "REPLACE_WITH_RENDER_API_URL";
function table(data){
 let h="<table><tr><th>Stock</th><th>RSI</th><th>ADX</th><th>MACD</th><th>Vol</th><th>Avg</th><th>BB</th><th>Trend</th></tr>";
 data.forEach(r=>{
  h+=`<tr><td>${r.stock}</td><td>${r.rsi}</td><td>${r.adx}</td><td>${r.macd}</td>
      <td>${r.current_volume}</td><td>${r.avg_volume}</td><td>${r.bb}</td><td>${r.trend}</td></tr>`;
 });
 document.getElementById("out").innerHTML=h+"</table>";
}
async function scan(){
 let r=await fetch(API+"/scan"); let d=await r.json();
 d.message?out.innerText=d.message:table(d);
}
async function daily(){
 let r=await fetch(API+"/daily"); let d=await r.json();
 d.message?out.innerText=d.message:table(d.results);
}
</script>
</body>
</html>
